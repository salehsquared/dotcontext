version: 1
last_updated: 2026-02-12T04:45:53.659Z
fingerprint: b49941c5
scope: tests/core
summary: >
  This directory contains unit tests for the markdown-writer module, which manages the reading and writing of AGENTS.md
  files. The tests ensure functionality such as creating, updating, and validating the contents of markdown files based
  on specified entries.
files:
  - name: markdown-writer.test.ts
    purpose: Unit tests for the markdown-writer module functionalities.
maintenance: |-
  If you modify files in this directory, update this .context.yaml to reflect
  your changes. Update the files list, interfaces, and current_state sections.
  Do NOT update the fingerprint manually â€” run `context rehash` or it will be
  updated automatically on the next `context status` check.
  If you only read files in this directory, do not modify this file.
  Do not include secrets, API keys, passwords, or PII in this file.
interfaces:
  - name: readAgentsMd
    description: Reads the content of AGENTS.md from a specified directory, returning the content or null if the file does
      not exist.
  - name: writeAgentsMd
    description: Writes content to AGENTS.md at the specified directory, overwriting any existing file.
  - name: updateAgentsMd
    description: Updates AGENTS.md by creating, appending, or replacing sections based on the provided entries and preserves
      user content around markdown markers.
decisions:
  - what: Use a temporary directory for tests
    why: To avoid filesystem pollution and maintain isolation between tests.
    tradeoff: Increased complexity in test setup and teardown.
constraints:
  - Tests must handle filesystem errors and edge cases properly.
  - Maintains the format of AGENTS.md by ensuring specific markdown structure.
dependencies:
  internal:
    - ../../src/core/markdown-writer.js
    - ../../src/generator/markdown.js
    - ../helpers.js
derived_fields:
  - version
  - last_updated
  - fingerprint
  - scope
  - dependencies.internal
