version: 1
last_updated: 2026-02-13T06:14:54.652Z
fingerprint: 759fc19e
scope: src/commands
summary: >
  The src/commands directory contains various command implementations that manage project initialization, configuration,
  benchmarking, and context file handling in a structured manner. Each command handles specific functionalities related
  to the project's context management lifecycle.
maintenance: |-
  If you modify files in this directory, update this .context.yaml to reflect
  your changes. Update the summary, and any decisions or constraints that changed.
  Do NOT update the fingerprint manually â€” run `context rehash` or it will be
  updated automatically on the next `context status` check.
  If you only read files in this directory, do not modify this file.
  Do not include secrets, API keys, passwords, or PII in this file.
decisions:
  - what: The commands can operate in both single-repo and multi-repo modes.
    why: This flexibility allows users to benchmark contexts for either a specific repository or multiple default
      repositories without changing the underlying architecture.
    tradeoff: This increases complexity in command handling and requires careful management of temporary directories.
  - what: Bench provider credentials are resolved from the invoking project config path, not cloned benchmark targets.
    why: Remote/default repo benchmarks clone into temporary directories that do not contain the caller's
      `.context.config.yaml`.
    tradeoff: Benchmarking and provider configuration are decoupled, so users must keep the invoking config valid.
  - what: Temporary benchmark repo initialization skips AGENTS.md generation.
    why: AGENTS.md creation after context generation can immediately invalidate fresh fingerprints in cloned repos.
    tradeoff: Temporary benchmark clones do not get AGENTS.md output, but benchmark behavior is unaffected.
constraints:
  - Commands must ensure that a valid provider configuration exists before proceeding with operations.
  - Context files must follow the defined schema, and any deviations will affect the commands' executions.
  - Bench runs against `--repo` or `--default-repos` must still load provider settings from the original command path.
dependencies:
  internal:
    - ../bench/git.js
    - ../bench/ground-truth.js
    - ../bench/repos.js
    - ../bench/runner.js
    - ../bench/scorer.js
    - ../bench/tasks.js
    - ../bench/types.js
    - ../core/fingerprint.js
    - ../core/markdown-writer.js
    - ../core/scanner.js
    - ../core/schema.js
    - ../core/writer.js
    - ../generator/dependencies.js
    - ../generator/llm.js
    - ../generator/markdown.js
    - ../generator/static.js
    - ../providers/index.js
    - ../utils/config.js
    - ../utils/display.js
    - ../utils/ignore.js
exports:
  - "async function benchCommand(options: BenchOptions): Promise<void>"
  - "async function configCommand( options:"
  - "async function doctorCommand(options:"
  - "async function ignoreCommand(targetPath: string, options:"
  - "async function initCommand(options:"
  - "async function regenCommand( targetPath: string | undefined, options:"
  - "async function rehashCommand(options:"
  - "async function showCommand(targetPath: string): Promise<void>"
  - "async function statsCommand(options:"
  - "async function statusCommand(options:"
  - "async function validateCommand(options:"
  - "function findTrackedDirForFile( filePath: string, rootPath: string, trackedDirPaths: Iterable<string>, ): string |
    undefined"
  - "async function watchCommand( options:"
derived_fields:
  - version
  - last_updated
  - fingerprint
  - scope
  - dependencies.internal
  - exports
