version: 1
last_updated: 2026-02-13T06:15:09.209Z
fingerprint: 0ea3ec25
scope: src
summary: >
  The src directory serves as the core implementation area for a command-line tool that generates and manages
  `.context.yaml` documentation files for codebases. It encapsulates various functionalities including command handling,
  context generation, and project health checks.
maintenance: |-
  If you modify files in this directory, update this .context.yaml to reflect
  your changes. Update the summary, and any decisions or constraints that changed.
  Do NOT update the fingerprint manually â€” run `context rehash` or it will be
  updated automatically on the next `context status` check.
  If you only read files in this directory, do not modify this file.
  Do not include secrets, API keys, passwords, or PII in this file.
decisions:
  - what: Commands are implemented in separate modules within the commands/ directory.
    why: This promotes separation of concerns, making it easier to manage and extend individual command functionalities.
    tradeoff: It may lead to more files and initial setup complexity but enhances maintainability.
constraints:
  - All commands must adhere to the specified options and action handling defined in index.ts.
dependencies:
  internal:
    - ./commands/bench.js
    - ./commands/config.js
    - ./commands/doctor.js
    - ./commands/ignore.js
    - ./commands/init.js
    - ./commands/regen.js
    - ./commands/rehash.js
    - ./commands/show.js
    - ./commands/stats.js
    - ./commands/status.js
    - ./commands/validate.js
    - ./commands/watch.js
    - ./mcp/server.js
    - ./utils/display.js
    - ./utils/env.js
subdirectories:
  - name: bench/
    summary: >
      The `src/bench` directory contains functionalities for benchmarking code understanding using a set of tasks,
      scoring methods, and various prompts. It integrates git operations for commit analysis and computes dependency
      structures, guiding task generation and evaluation for AI-assisted code comprehension.
  - name: commands/
    summary: >
      The src/commands directory contains various command implementations that manage project initialization,
      configuration, benchmarking, and context file handling in a structured manner. Each command handles specific
      functionalities related to the project's context management lifecycle.
  - name: core/
    summary: >
      The `src/core` directory provides utilities for managing directory fingerprints, updating markdown files related
      to agents, and scanning project directories to detect context requirements. It encapsulates functionalities for
      file management, ignoring patterns, and maintaining state information.
  - name: generator/
    summary: >
      This directory is responsible for generating contextual YAML documentation for codebases by analyzing source files
      and extracting relevant metadata such as exports and dependencies. It supports functionalities like detecting
      external dependencies, collecting evidence from test artifacts, and leveraging AST parsing for code analysis.
  - name: mcp/
    summary: >
      The `src/mcp` directory implements the Model Context Protocol (MCP) server, providing functionality to manage and
      query project context stored in `.context.yaml` files. It establishes a connection via standard I/O and allows
      interaction with the context through various tools.
  - name: providers/
    summary: >
      This directory implements various LLM provider classes that adhere to a common interface, allowing for the
      generation of text responses from different language models. Each provider encapsulates the specifics of
      interacting with an external API or SDK. 
  - name: utils/
    summary: >
      The src/utils directory provides utility functions for managing configurations, environment variables, and
      displaying messages. It facilitates tasks such as loading configuration files, managing environment settings,
      processing items in parallel, and estimating tokens in directory structures.
exports:
  - interface CommandHandlers
  - "function createProgram(handlers: CommandHandlers = defaultHandlers): Command"
  - "async function runCli( argv: string[] = process.argv, handlers: CommandHandlers = defaultHandlers, ): Promise<void>"
derived_fields:
  - version
  - last_updated
  - fingerprint
  - scope
  - dependencies.internal
  - exports
  - subdirectories
