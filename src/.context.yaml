version: 1
last_updated: 2026-02-12T04:46:24.621Z
fingerprint: 2389ff21
scope: src
summary: >
  The src directory implements a command-line tool for generating, validating, and managing .context.yaml files for
  projects, leveraging a variety of functionalities through commands for initialization, regeneration, and status
  checks.
files:
  - name: index.ts
    purpose: Main entry point for the command-line interface managing context files.
maintenance: |-
  If you modify files in this directory, update this .context.yaml to reflect
  your changes. Update the files list, interfaces, and current_state sections.
  Do NOT update the fingerprint manually â€” run `context rehash` or it will be
  updated automatically on the next `context status` check.
  If you only read files in this directory, do not modify this file.
  Do not include secrets, API keys, passwords, or PII in this file.
interfaces:
  - name: createProgram
    description: Sets up the command-line interface with various commands for context file management.
  - name: runCli
    description: Loads environment variables and starts the command-line interface.
decisions:
  - what: Use a command pattern for CLI commands
    why: To modularize functionalities and make it easier to extend or modify individual commands.
    tradeoff: Increased complexity in handling commands when adding new features.
constraints:
  - Commands must adhere to defined options and validate parameters before execution.
dependencies:
  internal:
    - ./commands/config.js
    - ./commands/doctor.js
    - ./commands/ignore.js
    - ./commands/init.js
    - ./commands/regen.js
    - ./commands/rehash.js
    - ./commands/show.js
    - ./commands/status.js
    - ./commands/validate.js
    - ./commands/watch.js
    - ./mcp/server.js
    - ./utils/display.js
    - ./utils/env.js
current_state:
  working:
    - The command-line commands are functioning as intended, allowing users to manage context files.
  in_progress:
    - Potential improvements in error handling and options validation for several commands.
subdirectories:
  - name: commands/
    summary: >
      The `commands` directory contains various command implementations for managing project configurations and context
      files, including commands for initialization, configuration updates, status checks, validation, and regeneration
      of context files.
  - name: core/
    summary: >
      The src/core directory contains utilities for managing project fingerprints, markdown generation for agents, and
      scanning directory structures for context data. It provides functions for calculating file fingerprints, reading
      and writing markdown files, and scanning project directories for relevant files.
  - name: generator/
    summary: Generates a .context.yaml file for directory context and documentation generation based on source code analysis.
  - name: mcp/
    summary: >
      This directory implements a Model Context Protocol (MCP) server with tools for querying and managing context files
      in a project. It includes functionalities to check context freshness and list contexts across directories.
  - name: providers/
    summary: >
      The `src/providers` directory contains multiple implementations of a language model provider interface, allowing
      interaction with different AI models from various vendors through a unified API.
  - name: utils/
    summary: >
      The src/utils directory provides utility functions for managing configuration, environment variables, display
      messages, and concurrent processing in a project.
derived_fields:
  - version
  - last_updated
  - fingerprint
  - scope
  - dependencies.internal
  - subdirectories
