version: 1
last_updated: 2026-02-13T17:39:00.363Z
fingerprint: 0ea3ec25
scope: src
summary: >
  The `src` directory is responsible for implementing the core functionalities and command-line interface for managing
  context generation and diagnostics in a project. It provides various commands for initializing configurations,
  validating context files, and monitoring their freshness.
maintenance: |-
  If you modify files in this directory, update this .context.yaml to reflect
  your changes. Update the summary, and any decisions or constraints that changed.
  Do NOT update the fingerprint manually â€” run `context rehash` or it will be
  updated automatically on the next `context status` check.
  If you only read files in this directory, do not modify this file.
  Do not include secrets, API keys, passwords, or PII in this file.
decisions:
  - what: Using the Commander library to manage command-line interactions
    why: It provides a structured and user-friendly way to define commands and options for the CLI
    tradeoff: Introduces a dependency on an external library for command management
constraints:
  - Commands must adhere to proper validation and error handling for user inputs.
  - All directory paths specified in commands should be valid and accessible within the project structure.
dependencies:
  internal:
    - ./commands/bench.js
    - ./commands/config.js
    - ./commands/doctor.js
    - ./commands/ignore.js
    - ./commands/init.js
    - ./commands/regen.js
    - ./commands/rehash.js
    - ./commands/show.js
    - ./commands/stats.js
    - ./commands/status.js
    - ./commands/validate.js
    - ./commands/watch.js
    - ./mcp/server.js
    - ./utils/display.js
    - ./utils/env.js
subdirectories:
  - name: bench/
    summary: >
      The `src/bench` directory provides a framework for benchmarking the performance of AI models using structured
      tasks. It includes the setup for cloning repositories, generating tasks based on code structure, and scoring the
      results of model responses.
  - name: commands/
    summary: >
      The `src/commands` directory contains various command implementations for managing context generation,
      configuration, and diagnostics for a project. Each file provides a specific functionality such as initializing
      configurations, running benchmarks, validating context files, and monitoring their freshness.
  - name: core/
    summary: >
      The `src/core` directory contains core functionalities for computing file fingerprints, managing markdown files
      related to agents, and scanning project directories for context files. It serves as the backbone for context
      management within the project.
  - name: generator/
    summary: >
      The `src/generator` directory contains code for generating structured documentation and managing code analysis
      tasks, including AST parsing for exports and dependency detection. It facilitates the generation of context files
      based on various programming languages and gathers evidence from existing artifacts for documentation purposes.
  - name: mcp/
    summary: >
      The `src/mcp` directory implements the Model Context Protocol (MCP) server functionality, providing tools for
      managing and querying context information in a structured manner. It facilitates the registration of tools that
      allow interactions with `.context.yaml` files throughout a project structure.
  - name: providers/
    summary: >
      This directory contains implementations of different LLM (Large Language Model) providers that adhere to a common
      interface. Each provider class is responsible for generating responses from its respective model using either SDKs
      or direct API calls.
  - name: utils/
    summary: >
      The src/utils directory provides utility functions for managing configuration, environment variables, and
      processing tasks with bounded concurrency. It contains functionalities for loading and saving configurations,
      handling environment variables, and displaying messages. Additionally, it includes methods for token estimation
      and filtering.
exports:
  - interface CommandHandlers
  - "function createProgram(handlers: CommandHandlers = defaultHandlers): Command"
  - "async function runCli( argv: string[] = process.argv, handlers: CommandHandlers = defaultHandlers, ): Promise<void>"
derived_fields:
  - version
  - last_updated
  - fingerprint
  - scope
  - dependencies.internal
  - exports
  - subdirectories
